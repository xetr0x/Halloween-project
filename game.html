<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
    <title>Document</title>
    <style>
        body{
            margin:0;
        }
    </style>
</head>
<body>

    <script type="text/javascript">


    var config = {
        type: Phaser.AUTO,
        width:480,
        height:640,

        physics: {
                default: 'arcade',
                arcade: {
                    gravity: {
                        y: 300
                    },
                    debug: false
                }
            },
        scene: {
            preload: preload,
            create: create,
            update: update
        }
        
        
    };

       
    var game = new Phaser.Game(config);
    var map;
    var tiles;
    var ground;

    function preload() { 
       
        this.load.image('assets','./assets/map/Titleset_Doungeon.png'); //Credit to 
        this.load.tilemapTiledJSON('map','assets/map/map.json');
       
        
    }

    function create() {
        map = this.make.tilemap({key: 'map', tileWidth: 16, tileHeight: 16});       //tilewidth: 

        tiles = map.addTilesetImage('Titleset_Doungeon', 'assets');
        var platformLayer = map.createDynamicLayer('ground',tiles, 0, 0).setDepth(1); //reads in layer1 which is ground and the depth is on 1
        var platformLayer2 = map.createDynamicLayer('walls',tiles, 0, 0).setDepth(2); // reads the second layer which is walls and on depth 2
        var platformLayer3 = map.createDynamicLayer('assets',tiles, 0, 0).setDepth(3); // reads third layer on depth 3
        var platformLayer4 = map.createDynamicLayer('light',tiles, 0, 0).setDepth(4); // reads fourth layer on depth 4 


        this.cameras.main.setBounds(0, 0, 480, 640);

var cursors = this.input.keyboard.createCursorKeys();
var controlConfig = {
    camera: this.cameras.main,
    left: cursors.left,
    right: cursors.right,
    up: cursors.up,
    down: cursors.down,
    speed: 0.5
};
controls = new Phaser.Cameras.Controls.FixedKeyControl(controlConfig);
}

function update (time, delta)
{
controls.update(delta);
}
    </script>
</body>
</html>